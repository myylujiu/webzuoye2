<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>demo</title>
	<link rel="stylesheet" type="text/css" href="demo.css">
	<script src="animate.js"></script>
</head>
<body>
<div class="big">
	<div class="top">
		<p ><img src="images/a15.png"><div class="hide">
			<div id="b"><span id="a">[温馨提示]：最近有不少不法分子在网上骗钱，请注意安全！！！</span></div>
		</div>
		</p>
	</div>
	<div class="box" id="box">
		<div class="slider" id="slider">
			<div class="slide"><img src="images/b5.png" alt=""></div>
			<div class="slide"><img src="images/b1.png" alt=""></div>
			<div class="slide"><img src="images/b2.png" alt=""></div>
			<div class="slide"><img src="images/b3.png" alt=""></div>
			<div class="slide"><img src="images/b4.png" alt=""></div>
			<div class="slide"><img src="images/b5.png" alt=""></div>
			<div class="slide"><img src="images/b1.png" alt=""></div>
		</div>
		<span id="left">&lt</span>
		<span id="right">&gt</span>
		<div id="ul">
			<ul class="nav" id="nav">
				<li class="active">1</li>
				<li>2</li>
				<li>3</li>
				<li>4</li>
				<li>5</li>
			</ul>
		</div>
	</div>

</div>
	<script type="text/javascript">
		var box=document.getElementById("box");
		var oNavlist=document.getElementById("nav").children;
		var slider=document.getElementById("slider");
		var left=document.getElementById("left");
		var right=document.getElementById("right");
		var index=1;
		var timer=setInterval(next,3000);
		var isMoving=false;
		box.onmouseover=function(){
			animate(left,{opacity:50})
			animate(right,{opacity:50})
			clearInterval(next,3000);
		}
		box.onmouseout=function(){
			animate(left,{opacity:0})
			animate(right,{opacity:0})
			timer=setInterval(next,3000);
		}
		right.onclick=next;
		left.onclick=prev;
		for(var i=0;i<oNavlist.length;i++){
			oNavlist[i].index=i;
			oNavlist[i].onclick=function(){
				index=this.index+1;
				navmove();
				animate(slider,{left:-1200*index});
			}
		}

		function next(){
			if(isMoving){
				return;
			}
			isMoving=true;
			index++;
			navmove();
			animate(slider,{left:-1200*index},function(){
				if(index==6){
					slider.style.left="-1200px";
					index=1;
				}
				isMoving=false;
			});
		}

			function prev(){
					if(isMoving){
						return;
					}
				isMoving=true;
				index--;
				navmove();
				animate(slider,{left:-1200*index},function(){
					if(index==0){
						slider.style.left='-6000px';
						index=5;
					}
					isMoving=false;
				});
			}

		function navmove(){
			for(var i=0;i<oNavlist.length;i++){
				oNavlist[i].className="";
			}
			if (index>5){
				oNavlist[0].className="active";
			}
			else if(index===0){
				oNavlist[4].className="active";
			}
			else{
				oNavlist[index-1].className="active"
			}
		}
	
			var v=setInterval(function(){
			var now=parseInt(getStyle(b,"right"));
			b.style.right=now+1+"px";
			if(now==1150){
				b.style.right=-500+"px";
			}
		},10);
		//console.log(now);

	</script>
</body>
</html>